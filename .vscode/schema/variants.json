{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "type": "array",
  "items": {
    "$ref": "#/definitions/Variant"
  },
  "minLength": 1,
  "definitions": {
    "Variant": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the variant."
        },
        "variant": {
          "enum": ["app", "app-unpriv"],
          "description": "The type of variant, either 'app' or 'app-unpriv'."
        },
        "branch_pattern": {
          "type": "string",
          "description": "A regex pattern to match the branch name for this variant."
        },
        "output_file": {
          "type": "string",
          "description": "The name of the output APK file for this variant."
        },
        "flavor": {
          "type": "string",
          "description": "The flavor of the variant, if applicable. This is optional and can be omitted."
        },
        "sign_keys": {
          "type": "array",
          "items": { "type": "string" },
          "description": "A list of signing keys used for this variant."
        }
      },
      "additionalProperties": false,
      "required": [
        "name",
        "variant",
        "branch_pattern",
        "output_file",
        "sign_keys"
      ]
    }
  }
}
